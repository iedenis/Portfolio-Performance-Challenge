(this.webpackJsonpchartjs=this.webpackJsonpchartjs||[]).push([[0],{192:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),o=(a(84),a(10)),u=a.n(o),s=a(29),m=a(8),i=(a(49),a(42)),d=a(47),g=a(16),p=(a(86),a(198)),f=a(195),E=a(73),h=a(197),v=a(17),b=a(68),y=a(69),O=a(194);function k(){var e=Object(g.a)(["\nmargin-top: 20px;\nborder: 2px solid;\nborder-color: #DCE1E5;\npadding: 5px 30px 30px 30px;\nborder-radius: 5px;\nmax-width: 500px;\n"]);return k=function(){return e},e}var j=Object(v.a)(O.a)(k());function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(){var e=Object(g.a)(["\ncolor: ",";\n:hover{color: 'red'};\n"]);return x=function(){return e},e}function P(){var e=Object(g.a)(["\ntext-align:center;\npadding-bottom: 10px;\n"]);return P=function(){return e},e}var A=v.a.h2(P()),S=Object(v.a)(b.a)(x(),(function(e){return"plus-circle"===e.icon.iconName?"green":"red"})),D=function(e){var t=e.handleUserInput,a=e.value,l=e.message,c=(e.stocksValues,Object(n.useState)({value:a,message:l})),o=Object(m.a)(c,2),u=o[0],s=o[1],g=Object(n.useState)([{value:null,stockPercentage:0}]),v=Object(m.a)(g,2),b=v[0],O=v[1],k=Object(n.useState)({date:"",amount:0}),x=Object(m.a)(k,2),P=x[0],D=x[1];Object(n.useEffect)((function(){console.log(u.value),setTimeout((function(){s({value:!1,message:""})}),5e3)}),[u.value]),Object(n.useEffect)((function(){s({value:a,message:l})}),[a,l]);var C=function(e,t){var a=Object(d.a)(b);a[e][t.target.name]=t.target.value,O(a)},I=function(e){console.log(e)},N=function(e){e.preventDefault();var n=b.reduce((function(e,t){return e+parseInt(t.stockPercentage)}),0);if(null!==b[0].value)if(""===P.date)s({value:!0,message:"Please select a date"});else{var r={stocks:b,date:P.date,amount:P.amount};n<100?s({value:!0,message:"The sum has to be 100%"}):a||t(r,I)}else s({value:!0,message:"Insert data"})},M=function(e){D(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},P,Object(i.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null,r.a.createElement(p.a,{onSubmit:N},r.a.createElement(A,null,"Portfolio Performance Challenge"),r.a.createElement("label",{htmlFor:"date"},"Select the starting date"),r.a.createElement(p.a.Control,{name:"date",type:"date",placeholder:"date",onChange:M}),r.a.createElement("br",null),r.a.createElement("label",null,"Initial balance in $"),r.a.createElement(p.a.Control,{name:"amount",type:"number",placeholder:"Amount",onChange:M}),r.a.createElement("br",null),r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement("label",null,"Insert your stocks")),r.a.createElement(E.a,null,"Part in %")),r.a.createElement(f.a,null,b.map((function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:"".concat(e,"-").concat(t)},r.a.createElement(E.a,{xs:6},r.a.createElement(p.a.Control,{style:{marginTop:".5em",marginBottom:".5em"},key:"".concat(e,"-").concat(t),name:"value",type:"text",placeholder:"STOCK",value:e.value||"",onChange:function(e){return C(t,e)}})),r.a.createElement(E.a,{key:"".concat(e,"+").concat(t)},r.a.createElement(p.a.Control,{style:{marginTop:".5em",marginBottom:".5em"},key:"".concat(e,"-").concat(t),name:"stockPercentage",type:"number",placeholder:"PERCENT",onChange:function(e){return C(t,e)}})))}))),r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=Object(d.a)(b);t.find((function(e){return null===e.value}))?s({value:!0,message:"Insert a stock name"}):(t.push({value:null}),O(t))},style:{width:"50%"}},r.a.createElement(S,{icon:y.a})),r.a.createElement("button",{onSubmit:function(e){return N(e)},style:{width:"50%"}},"Submit")),u.value?r.a.createElement(h.a,{style:{marginTop:".5em"},variant:"danger"},u.message):""))},C=a(196),I=function(e){var t=e.stocksValues,a=t.reduce((function(e,t){return e+(t.newAmount-t.oldAmount)}),0);return r.a.createElement(j,null,r.a.createElement("h2",null,"Your Revenue"),r.a.createElement(C.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Stock Name"),r.a.createElement("th",null,"Invested"),r.a.createElement("th",null,"Returned"),r.a.createElement("th",null,"Profit"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:"".concat(e,"-").concat(t)},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.stockName),r.a.createElement("td",null,"$",e.oldAmount),r.a.createElement("td",null,"$",e.newAmount),r.a.createElement("td",null,"$",e.newAmount-e.oldAmount))})),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("strong",null,"Your total profit is $",a))))))},N=function(){return r.a.createElement(j,{style:{padding:"3px"}},r.a.createElement("h3",{style:{textAlign:"center"}},"Try these stocks"),r.a.createElement(C.a,{size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Stock Name"),r.a.createElement("th",null,"Stock Name"),r.a.createElement("th",null,"Stock Name"),r.a.createElement("th",null,"Stock Name"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"SNAP"),r.a.createElement("td",null,"AAPL"),r.a.createElement("td",null,"AMD"),r.a.createElement("td",null,"NVDA")),r.a.createElement("tr",null,r.a.createElement("td",null,"MSFT"),r.a.createElement("td",null,"UNH"),r.a.createElement("td",null,"AMZN"),r.a.createElement("td",null,"GOOG")))))},M=a(75),z=function(e){var t=e.stocksValues,a=t.map((function(e){return e.newAmount-e.oldAmount})),n=["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(255, 99, 132, 0.6)"],l={labels:t.map((function(e){return e.stockName})),datasets:[{label:"Change in value",data:a,backgroundColor:t.map((function(e){return n[Math.floor(Math.random()*n.length)]}))}]};return r.a.createElement(j,null,r.a.createElement(M.a,{data:l,options:{title:{display:!0,text:"Stocks change",fontSize:25},legend:{display:!0,position:"right"}}}))};var T=function(){var e=Object(n.useState)({value:!1,message:""}),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),o=Object(m.a)(c,2),i=o[0],d=(o[1],Object(n.useState)([])),g=Object(m.a)(d,2),p=g[0],f=g[1],E=new Date((new Date).setDate(1===(new Date).getDay()?(new Date).getHours()>10?(new Date).getDate():(new Date).getDate()-3:(new Date).getDate()-1)).toISOString().slice(0,10);Object(n.useEffect)((function(){console.log(p)}),[i,p]);var h=function(){var e=Object(s.a)(u.a.mark((function e(t,a){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=t.stocks,c=t.amount,r.map((function(e,a){var r=c*(e.stockPercentage/100);n.push(v(e.value,t.date,e.stockPercentage,r))})),e.next=6,Promise.all(n).then((function(e){return f(e)})).catch((function(e){l({value:!0,message:e})}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(u.a.mark((function e(t,a,n,r){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Promise(function(){var e=Object(s.a)(u.a.mark((function e(n,c){var o,s,m,i,d,g,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="https://api.worldtradingdata.com/api/v1/history_multi_single_day?symbol=".concat(t,"&date=").concat(a,"&api_token=379GkiBmMK8tAoywHB3TNIzARfIovvVczcczsZDAtJe1IzjCdwnFHdGWQZbP"),e.prev=1,e.next=4,fetch(o).then((function(e){return e.json()})).catch((function(e){return l({value:!0,message:e})}));case 4:return s=e.sent,e.next=7,fetch("https://api.worldtradingdata.com/api/v1/history_multi_single_day?symbol=".concat(t,"&date=").concat(E,"&api_token=379GkiBmMK8tAoywHB3TNIzARfIovvVczcczsZDAtJe1IzjCdwnFHdGWQZbP")).then((function(e){return e.json()}));case 7:m=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),l({value:!0,message:e.t0}),c("ERROR",e.t0);case 14:console.log(m.Message),s.Message||m.Message?(l({value:!0,message:s.Message?s.Message:E.Message}),c("Cannot fetch data")):(i=s.data[t].close,d=m.data[t].open,g=Math.round(d/i*100)/100,p=parseInt(r*g),n({stockName:t,oldAmount:r,newAmount:p}));case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{style:{maxHeight:"100vh"}},p.length>0?r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{stocksValues:p}),r.a.createElement(z,{stocksValues:p}))}),null):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{handleUserInput:h,stocksValues:p,value:a.value,message:a.message}),r.a.createElement(N,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,t,a){},79:function(e,t,a){e.exports=a(192)},84:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.7c1a67a9.chunk.js.map