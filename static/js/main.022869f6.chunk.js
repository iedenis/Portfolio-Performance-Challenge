(this.webpackJsonpchartjs=this.webpackJsonpchartjs||[]).push([[0],{192:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(27),c=n.n(l),o=(n(84),n(10)),u=n.n(o),s=n(29),m=n(9),i=(n(49),n(42)),d=n(47),p=n(16),f=(n(86),n(198)),g=n(195),E=n(73),h=n(197),v=n(17),b=n(68),y=n(69),k=n(194);function O(){var e=Object(p.a)(["\nmargin-top: 20px;\nborder: 2px solid;\nborder-color: #DCE1E5;\npadding: 5px 30px 30px 30px;\nborder-radius: 5px;\nmax-width: 500px;\n"]);return O=function(){return e},e}var w=Object(v.a)(k.a)(O());function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(){var e=Object(p.a)(["\ncolor: ",";\n:hover{color: 'red'};\n"]);return x=function(){return e},e}function P(){var e=Object(p.a)(["\ntext-align:center;\npadding-bottom: 10px;\n"]);return P=function(){return e},e}var A=v.a.h2(P()),D=Object(v.a)(b.a)(x(),(function(e){return"plus-circle"===e.icon.iconName?"green":"red"})),S=function(e){var t=e.handleUserInput,n=e.value,l=e.message,c=(e.stocksValues,Object(a.useState)({value:n,message:l})),o=Object(m.a)(c,2),u=o[0],s=o[1],p=Object(a.useState)([{value:null,stockPercentage:0}]),v=Object(m.a)(p,2),b=v[0],k=v[1],O=Object(a.useState)({date:"",amount:0}),x=Object(m.a)(O,2),P=x[0],S=x[1];Object(a.useEffect)((function(){console.log(u.value),setTimeout((function(){s({value:!1,message:""})}),5e3)}),[u.value]),Object(a.useEffect)((function(){s({value:n,message:l})}),[n,l]);var C=function(e,t){var n=Object(d.a)(b);n[e][t.target.name]=t.target.value,k(n)},I=function(e){console.log(e)},N=function(e){e.preventDefault();var a=b.reduce((function(e,t){return e+parseInt(t.stockPercentage)}),0);if(null!==b[0].value)if(""===P.date)s({value:!0,message:"Please select a date"});else{var r={stocks:b,date:P.date,amount:P.amount};a<100?s({value:!0,message:"The sum has to be 100%"}):n||t(r,I)}else s({value:!0,message:"Insert data"})},M=function(e){S(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},P,Object(i.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(f.a,{onSubmit:N},r.a.createElement(A,null,"Portfolio Performance Challenge"),r.a.createElement("label",{htmlFor:"date"},"Select the starting date"),r.a.createElement(f.a.Control,{name:"date",type:"date",placeholder:"date",onChange:M}),r.a.createElement("br",null),r.a.createElement("label",null,"Initial balance in $"),r.a.createElement(f.a.Control,{name:"amount",type:"number",placeholder:"Amount",onChange:M}),r.a.createElement("br",null),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("label",null,"Insert your stocks")),r.a.createElement(E.a,null,"Part in %")),r.a.createElement(g.a,null,b.map((function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:"".concat(e,"-").concat(t)},r.a.createElement(E.a,{xs:6},r.a.createElement(f.a.Control,{style:{marginTop:".5em",marginBottom:".5em"},key:"".concat(e,"-").concat(t),name:"value",type:"text",placeholder:"STOCK",value:e.value||"",onChange:function(e){return C(t,e)}})),r.a.createElement(E.a,{key:"".concat(e,"+").concat(t)},r.a.createElement(f.a.Control,{style:{marginTop:".5em",marginBottom:".5em"},key:"".concat(e,"-").concat(t),name:"stockPercentage",type:"number",placeholder:"PERCENT",onChange:function(e){return C(t,e)}})))}))),r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=Object(d.a)(b);t.find((function(e){return null===e.value}))?s({value:!0,message:"Insert a stock name"}):(t.push({value:null}),k(t))},style:{width:"50%"}},r.a.createElement(D,{icon:y.a})),r.a.createElement("button",{onSubmit:function(e){return N(e)},style:{width:"50%"}},"Submit")),u.value?r.a.createElement(h.a,{style:{marginTop:".5em"},variant:"danger"},u.message):""))},C=n(196),I=function(e){var t=e.stocksValues,n=t.reduce((function(e,t){return e+(t.newAmount-t.oldAmount)}),0);return r.a.createElement(w,null,r.a.createElement("h2",null,"Your Revenue"),r.a.createElement(C.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Stock Name"),r.a.createElement("th",null,"Invested"),r.a.createElement("th",null,"Returned"),r.a.createElement("th",null,"Profit"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:"".concat(e,"-").concat(t)},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.stockName),r.a.createElement("td",null,"$",e.oldAmount),r.a.createElement("td",null,"$",e.newAmount),r.a.createElement("td",null,"$",e.newAmount-e.oldAmount))})),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("strong",null,"Your total profit is $",n))))))},N=function(){return r.a.createElement(w,{style:{padding:"3px"}},r.a.createElement("h3",{style:{textAlign:"center"}},"Try these stocks"),r.a.createElement(C.a,{size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Stock Name"),r.a.createElement("th",null,"Stock Name"),r.a.createElement("th",null,"Stock Name"),r.a.createElement("th",null,"Stock Name"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"SNAP"),r.a.createElement("td",null,"AAPL"),r.a.createElement("td",null,"AMD"),r.a.createElement("td",null,"NVDA")),r.a.createElement("tr",null,r.a.createElement("td",null,"MSFT"),r.a.createElement("td",null,"UNH"),r.a.createElement("td",null,"AMZN"),r.a.createElement("td",null,"GOOG")))))},M=n(75),z=function(e){var t=e.stocksValues,n=t.map((function(e){return e.newAmount-e.oldAmount})),a=["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(255, 99, 132, 0.6)"],l={labels:t.map((function(e){return e.stockName})),datasets:[{label:"Change in value",data:n,backgroundColor:t.map((function(e){return a[Math.floor(Math.random()*a.length)]}))}]};return r.a.createElement(w,null,r.a.createElement(M.a,{data:l,options:{title:{display:!0,text:"Stocks change",fontSize:25},legend:{display:!0,position:"right"}}}))};var T=function(){var e=Object(a.useState)({value:!1,message:""}),t=Object(m.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)([]),o=Object(m.a)(c,2),i=o[0],d=o[1],p=new Date((new Date).setDate(1===(new Date).getDay()?(new Date).getHours()>10?(new Date).getDate():(new Date).getDate()-3:(new Date).getDate()-1)).toISOString().slice(0,10);Object(a.useEffect)((function(){console.log(i)}),[i]);var f=function(){var e=Object(s.a)(u.a.mark((function e(t,n){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=t.stocks,c=t.amount,r.map((function(e,n){var r=c*(e.stockPercentage/100);return a.push(g(e.value,t.date,e.stockPercentage,r))})),e.next=6,Promise.all(a).then((function(e){return d(e)})).catch((function(e){l({value:!0,message:e})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(u.a.mark((function e(t,n,a,r){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Promise(function(){var e=Object(s.a)(u.a.mark((function e(a,c){var o,s,m,i,d,f,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="https://api.worldtradingdata.com/api/v1/history_multi_single_day?symbol=".concat(t,"&date=").concat(n,"&api_token=379GkiBmMK8tAoywHB3TNIzARfIovvVczcczsZDAtJe1IzjCdwnFHdGWQZbP"),e.prev=1,e.next=4,fetch(o).then((function(e){return e.json()})).catch((function(e){return l({value:!0,message:e})}));case 4:return s=e.sent,e.next=7,fetch("https://api.worldtradingdata.com/api/v1/history_multi_single_day?symbol=".concat(t,"&date=").concat(p,"&api_token=379GkiBmMK8tAoywHB3TNIzARfIovvVczcczsZDAtJe1IzjCdwnFHdGWQZbP")).then((function(e){return e.json()}));case 7:m=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),l({value:!0,message:e.t0}),c("ERROR",e.t0);case 14:s.Message||m.Message?(l({value:!0,message:s.Message?s.Message:p.Message}),c("Cannot fetch data")):(i=s.data[t].close,d=m.data[t].open,f=Math.round(d/i*100)/100,g=parseInt(r*f),a({stockName:t,oldAmount:r,newAmount:g}));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{style:{maxHeight:"100vh"}},i.length>0?r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{stocksValues:i}),r.a.createElement(z,{stocksValues:i}))}),null):r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{handleUserInput:f,stocksValues:i,value:n.value,message:n.message}),r.a.createElement(N,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,t,n){},79:function(e,t,n){e.exports=n(192)},84:function(e,t,n){}},[[79,1,2]]]);
//# sourceMappingURL=main.022869f6.chunk.js.map